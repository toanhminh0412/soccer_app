{% load soccer_extras %}
<div class="card mt-3 border-success">
    <div class="card-header bg-success bg-opacity-75 text-white fw-semibold fs-4">
        {{ group.name }}
    </div>
    <a class="text-black" style="text-decoration: none;" href="/group/{{group.id}}">
        <div class="card-body game-body">
            <h4 class="card-title">{{ group.name }}</h4>
            <div class="card-text mt-3">
                <div><strong class="me-2">Captain:</strong>{{ group.get_captain.user.name }}</div>
                <div><strong class="me-2">Co-captains:</strong>{{ group.get_cocaptains_str }}</div>
                <div><strong class="me-2">Spaces left:</strong>{% if group.max_member_num %}{{ group.max_member_num|subtract:group.members.count }} / {{group.max_member_num}}{% else %}Unlimited{% endif %}</div>
                <div><strong class="me-2">Description:</strong>{{ group.description }}</div>
                <div class="mt-3 fst-italic helper-text">Click on the group container body to see the details</div>
            </div>
        </div>
    </a>
    <div class="card-footer">
        <div class="w-fit ms-auto">
            {% if request.path == '/' %}
            {% if user == group.get_captain.user %}
            <button type="button" class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#deleteGroup{{ group.id }}ConfirmationModal">Delete group</button>
            {% endif %}
            <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#editGroup{{ group.id }}FormModal">Edit group</button>
            {% else %}
            <a href="/group/{{ group.id }}" type="button" class="btn btn-secondary btn-sm">View details</a>
            <a href="#" type="button" class="btn btn-success btn-sm {% if user in group.members.all %}disabled{% endif %}">Request to join group</a>
            {% endif %}
        </div>
    </div>
</div>