{% extends 'base.html' %}
{% load soccer_extras %}
{% block title %}{{ game_detail.name }}{% endblock %}
{% block content %}
<div class="container mt-150">
    <div class="box-container">
        <h2 class="text-underline">{{ game_detail.name }}</h1>
        <h4 class="text-muted">{{ game_detail.location }}</h4>
        <div class="mt-3">
            <div class="row">
                <div class="col-md-6"><strong class="me-2">Organizer:</strong>{{ game_detail.get_creator }}</div>
                <div class="col-md-6"><strong class="me-2">Team:</strong>{% if game_detail.team %}{{ game_detail.team.name }}{% else %}Not a team{% endif %}</div>
            </div>
            <div class="row">
                <div class="col-md-6"><strong class="me-2">Spaces left:</strong>{{ game_detail.max_player_num|subtract:game_detail.total_players }}</div>
                <div class="col-md-6"><strong class="me-2">Number of teams:</strong>{{ game_detail.team_num }}</div>
            </div>
            <div class="mt-2"><strong class="me-2">Description:</strong>{{ game_detail.description }}</div>
        </div>
        <div class="mt-3">
            <div>
                <h5>Bench</h5>
                <div class="row">
                    {% for player in game_detail.get_bench.players.all %}
                    <div class="col-4 col-lg-2 tag-container bg-light text-center mt-1">{{player.name}}</div>
                    {% endfor %}
                </div>
                <div class="mt-3 fs-6 fst-italic">Captain will put you in a team</div>
            </div>
            <div class="mt-3">
                <div class="row">
                    {% for team in game_detail.get_teams %}
                    <div class="col-6 col-lg-{{team.get_team_num_on_a_row_lg}} mt-1">
                        <h5>Team {{team.team_number}}</h5>
                        {% for player in team.players.all %}
                        <div class="tag-container {{team.get_color}} text-center mt-1">{{player.name}}</div>
                        {% endfor %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}